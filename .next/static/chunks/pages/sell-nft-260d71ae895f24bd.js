(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[430],{72477:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sell-nft",function(){return n(54082)}])},54082:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var a=n(85893);n(9008),n(25675);var s=n(7160),p=n.n(s),o=n(41942),r=n(83078),i=n(35553),u=n(67225),d=n(4672),y=n(48036),l=n(67294);function c(){let{chainId:e,account:t,isWeb3Enabled:n}=(0,r.Nr)(),s=e?parseInt(e).toString():"31337",c=y[s].NftMarketplace[0],m=(0,o.aa)(),[f,b]=(0,l.useState)("0"),{runContractFunction:_}=(0,r.JX)();async function k(e){console.log("Approving...");let t=e.data[0].inputResult,n=e.data[1].inputResult,a=i.vz(e.data[2].inputResult,"ether").toString();await _({params:{abi:u,contractAddress:t,functionName:"approve",params:{to:c,tokenId:n}},onSuccess:e=>v(e,t,n,a),onError(e){console.log(e)}})}async function v(e,t,n,a){console.log("Ok! Now time to list"),await e.wait(),await _({params:{abi:d,contractAddress:c,functionName:"listItem",params:{nftAddress:t,tokenId:n,price:a}},onSuccess:()=>w(),onError:e=>console.log(e)})}async function w(){m({type:"success",message:"NFT listing",title:"NFT listed",position:"topR"})}let N=()=>{m({type:"success",message:"Withdrawing proceeds",position:"topR"})};async function x(){let e=await _({params:{abi:d,contractAddress:c,functionName:"getProceeds",params:{seller:t}},onError:e=>console.log(e)});e&&b(e.toString())}return(0,l.useEffect)(()=>{x()},[f,t,n,e]),(0,a.jsxs)("div",{className:p().container,children:[(0,a.jsx)(o.F,{onSubmit:k,data:[{name:"NFT Address",type:"text",inputWidth:"50%",value:"",key:"nftAddress"},{name:"Token ID",type:"number",value:"",key:"tokenId"},{name:"Price (in ETH)",type:"number",value:"",key:"price"}],title:"Sell your NFT!",id:"Main Form"}),(0,a.jsxs)("div",{children:["Withdraw ",f," proceeds"]}),"0"!=f?(0,a.jsx)(o.q,{onClick(){_({params:{abi:d,contractAddress:c,functionName:"withdrawProceeds",params:{}},onError:e=>console.log(e),onSuccess:()=>N})},text:"Withdraw",type:"button"}):(0,a.jsx)("div",{children:"No proceeds detected"})]})}},7160:function(e){e.exports={container:"Home_container__bCOhY",main:"Home_main__nLjiQ",footer:"Home_footer____T7K",title:"Home_title__T09hD",description:"Home_description__41Owk",code:"Home_code__suPER",grid:"Home_grid__GxQ85",card:"Home_card___LpL1",logo:"Home_logo__27_tb"}},67225:function(e){"use strict";e.exports=JSON.parse('[{"type":"constructor","payable":false,"inputs":[]},{"type":"event","anonymous":false,"name":"Approval","inputs":[{"type":"address","name":"owner","indexed":true},{"type":"address","name":"approved","indexed":true},{"type":"uint256","name":"tokenId","indexed":true}]},{"type":"event","anonymous":false,"name":"ApprovalForAll","inputs":[{"type":"address","name":"owner","indexed":true},{"type":"address","name":"operator","indexed":true},{"type":"bool","name":"approved","indexed":false}]},{"type":"event","anonymous":false,"name":"Transfer","inputs":[{"type":"address","name":"from","indexed":true},{"type":"address","name":"to","indexed":true},{"type":"uint256","name":"tokenId","indexed":true}]},{"type":"function","name":"TOKEN_URI","constant":true,"stateMutability":"view","payable":false,"inputs":[],"outputs":[{"type":"string"}]},{"type":"function","name":"approve","constant":false,"payable":false,"inputs":[{"type":"address","name":"to"},{"type":"uint256","name":"tokenId"}],"outputs":[]},{"type":"function","name":"balanceOf","constant":true,"stateMutability":"view","payable":false,"inputs":[{"type":"address","name":"owner"}],"outputs":[{"type":"uint256"}]},{"type":"function","name":"getApproved","constant":true,"stateMutability":"view","payable":false,"inputs":[{"type":"uint256","name":"tokenId"}],"outputs":[{"type":"address"}]},{"type":"function","name":"getTokenCounter","constant":true,"stateMutability":"view","payable":false,"inputs":[],"outputs":[{"type":"uint256"}]},{"type":"function","name":"isApprovedForAll","constant":true,"stateMutability":"view","payable":false,"inputs":[{"type":"address","name":"owner"},{"type":"address","name":"operator"}],"outputs":[{"type":"bool"}]},{"type":"function","name":"mintNft","constant":false,"payable":false,"inputs":[],"outputs":[{"type":"uint256"}]},{"type":"function","name":"name","constant":true,"stateMutability":"view","payable":false,"inputs":[],"outputs":[{"type":"string"}]},{"type":"function","name":"ownerOf","constant":true,"stateMutability":"view","payable":false,"inputs":[{"type":"uint256","name":"tokenId"}],"outputs":[{"type":"address"}]},{"type":"function","name":"safeTransferFrom","constant":false,"payable":false,"inputs":[{"type":"address","name":"from"},{"type":"address","name":"to"},{"type":"uint256","name":"tokenId"}],"outputs":[]},{"type":"function","name":"safeTransferFrom","constant":false,"payable":false,"inputs":[{"type":"address","name":"from"},{"type":"address","name":"to"},{"type":"uint256","name":"tokenId"},{"type":"bytes","name":"data"}],"outputs":[]},{"type":"function","name":"setApprovalForAll","constant":false,"payable":false,"inputs":[{"type":"address","name":"operator"},{"type":"bool","name":"approved"}],"outputs":[]},{"type":"function","name":"supportsInterface","constant":true,"stateMutability":"view","payable":false,"inputs":[{"type":"bytes4","name":"interfaceId"}],"outputs":[{"type":"bool"}]},{"type":"function","name":"symbol","constant":true,"stateMutability":"view","payable":false,"inputs":[],"outputs":[{"type":"string"}]},{"type":"function","name":"tokenURI","constant":true,"stateMutability":"view","payable":false,"inputs":[{"type":"uint256"}],"outputs":[{"type":"string"}]},{"type":"function","name":"transferFrom","constant":false,"payable":false,"inputs":[{"type":"address","name":"from"},{"type":"address","name":"to"},{"type":"uint256","name":"tokenId"}],"outputs":[]}]')},4672:function(e){"use strict";e.exports=JSON.parse('[{"type":"error","name":"NftMarketplace_AlreadyListed","inputs":[{"type":"address","name":"nftAddress"},{"type":"uint256","name":"tokenId"}]},{"type":"error","name":"NftMarketplace_NoProceeds","inputs":[]},{"type":"error","name":"NftMarketplace_NotApprovedForMarketplace","inputs":[]},{"type":"error","name":"NftMarketplace_NotListed","inputs":[{"type":"address","name":"nftAddress"},{"type":"uint256","name":"tokenId"}]},{"type":"error","name":"NftMarketplace_NotOwner","inputs":[]},{"type":"error","name":"NftMarketplace_PriceMustBeAboveZero","inputs":[]},{"type":"error","name":"NftMarketplace_PriceNotMet","inputs":[{"type":"address","name":"nftAddress"},{"type":"uint256","name":"tokenId"},{"type":"uint256","name":"price"}]},{"type":"error","name":"NftMarketplace_TransferFailed","inputs":[]},{"type":"event","anonymous":false,"name":"ItemBought","inputs":[{"type":"address","name":"buyer","indexed":true},{"type":"address","name":"nftAddress","indexed":true},{"type":"uint256","name":"tokenId","indexed":true},{"type":"uint256","name":"price","indexed":false}]},{"type":"event","anonymous":false,"name":"ItemCanceled","inputs":[{"type":"address","name":"seller","indexed":true},{"type":"address","name":"nftAddress","indexed":true},{"type":"uint256","name":"tokenId","indexed":true}]},{"type":"event","anonymous":false,"name":"ItemListed","inputs":[{"type":"address","name":"seller","indexed":true},{"type":"address","name":"nftAddress","indexed":true},{"type":"uint256","name":"tokenId","indexed":true},{"type":"uint256","name":"price","indexed":false}]},{"type":"function","name":"buyItem","constant":false,"stateMutability":"payable","payable":true,"inputs":[{"type":"address","name":"nftAddress"},{"type":"uint256","name":"tokenId"}],"outputs":[]},{"type":"function","name":"cancelListing","constant":false,"payable":false,"inputs":[{"type":"address","name":"nftAddress"},{"type":"uint256","name":"tokenId"}],"outputs":[]},{"type":"function","name":"getListing","constant":true,"stateMutability":"view","payable":false,"inputs":[{"type":"address","name":"nftAddress"},{"type":"uint256","name":"tokenId"}],"outputs":[{"type":"tuple","components":[{"type":"uint256","name":"price"},{"type":"address","name":"seller"}]}]},{"type":"function","name":"getProceeds","constant":true,"stateMutability":"view","payable":false,"inputs":[{"type":"address","name":"seller"}],"outputs":[{"type":"uint256"}]},{"type":"function","name":"listItem","constant":false,"payable":false,"inputs":[{"type":"address","name":"nftAddress"},{"type":"uint256","name":"tokenId"},{"type":"uint256","name":"price"}],"outputs":[]},{"type":"function","name":"updateListing","constant":false,"payable":false,"inputs":[{"type":"address","name":"nftAddress"},{"type":"uint256","name":"tokenId"},{"type":"uint256","name":"newPrice"}],"outputs":[]},{"type":"function","name":"withdrawProceeds","constant":false,"payable":false,"inputs":[],"outputs":[]}]')},48036:function(e){"use strict";e.exports=JSON.parse('{"5":{"NftMarketplace":["0x782e1DfC5946b97eDC1c824C28fAef99d98262Da"]},"31337":{"NftMarketplace":["0x5FbDB2315678afecb367f032d93F642f64180aa3"]}}')}},function(e){e.O(0,[675,774,888,179],function(){return e(e.s=72477)}),_N_E=e.O()}]);